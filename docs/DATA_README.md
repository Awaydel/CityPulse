# üìö –°–ª–æ–≤–∞—Ä—å –¥–∞–Ω–Ω—ã—Ö EcoSense

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### Open-Meteo Weather API

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | URL |
|----------|----------|-----|
| **Endpoint** | Historical/Forecast API | `https://api.open-meteo.com/v1/forecast` |
| **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | ‚Äî |
| **–õ–∏—Ü–µ–Ω–∑–∏—è** | CC BY 4.0 | [–õ–∏—Ü–µ–Ω–∑–∏—è](https://open-meteo.com/en/terms) |
| **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** | 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ) | ‚Äî |

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature_2m` ‚Äî —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞ –≤—ã—Å–æ—Ç–µ 2–º (¬∞C)
- `relative_humidity_2m` ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å (%)
- `wind_speed_10m` ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ –Ω–∞ –≤—ã—Å–æ—Ç–µ 10–º (–∫–º/—á)

---

### Open-Meteo Air Quality API

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | URL |
|----------|----------|-----|
| **Endpoint** | Air Quality API | `https://air-quality-api.open-meteo.com/v1/air-quality` |
| **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | ‚Äî |
| **–õ–∏—Ü–µ–Ω–∑–∏—è** | CC BY 4.0 | [–õ–∏—Ü–µ–Ω–∑–∏—è](https://open-meteo.com/en/terms) |
| **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** | CAMS (Copernicus) | ‚Äî |

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `pm2_5` ‚Äî —á–∞—Å—Ç–∏—Ü—ã PM2.5 (–º–∫–≥/–º¬≥)
- `pm10` ‚Äî —á–∞—Å—Ç–∏—Ü—ã PM10 (–º–∫–≥/–º¬≥)

---

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `dim_city` (–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≥–æ—Ä–æ–¥–æ–≤)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|-------------|
| `city_id` | SERIAL | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID | PRIMARY KEY |
| `name` | VARCHAR(100) | –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ | UNIQUE, NOT NULL |
| `country_code` | CHAR(2) | ISO –∫–æ–¥ —Å—Ç—Ä–∞–Ω—ã | NOT NULL |
| `latitude` | DECIMAL(9,6) | –®–∏—Ä–æ—Ç–∞ | NOT NULL |
| `longitude` | DECIMAL(9,6) | –î–æ–ª–≥–æ—Ç–∞ | NOT NULL |

---

### –¢–∞–±–ª–∏—Ü–∞ `fact_weather` (–§–∞–∫—Ç—ã –ø–æ–≥–æ–¥—ã)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|-------------|
| `city_id` | INTEGER | FK –Ω–∞ dim_city | NOT NULL |
| `timestamp` | TIMESTAMP | –î–∞—Ç–∞/–≤—Ä–µ–º—è –∏–∑–º–µ—Ä–µ–Ω–∏—è | NOT NULL |
| `temperature` | DECIMAL(5,2) | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C) | ‚Äî |
| `humidity` | DECIMAL(5,2) | –í–ª–∞–∂–Ω–æ—Å—Ç—å (%) | ‚Äî |
| `wind_speed` | DECIMAL(5,2) | –°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ (–∫–º/—á) | ‚Äî |

**–°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á:** `(city_id, timestamp)`

---

### –¢–∞–±–ª–∏—Ü–∞ `fact_air_quality` (–§–∞–∫—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|-------------|
| `city_id` | INTEGER | FK –Ω–∞ dim_city | NOT NULL |
| `timestamp` | TIMESTAMP | –î–∞—Ç–∞/–≤—Ä–µ–º—è –∏–∑–º–µ—Ä–µ–Ω–∏—è | NOT NULL |
| `pm10` | DECIMAL(6,2) | –ß–∞—Å—Ç–∏—Ü—ã PM10 (–º–∫–≥/–º¬≥) | ‚Äî |
| `pm25` | DECIMAL(6,2) | –ß–∞—Å—Ç–∏—Ü—ã PM2.5 (–º–∫–≥/–º¬≥) | ‚Äî |
| `predicted_pm25` | DECIMAL(6,2) | ML-–ø—Ä–æ–≥–Ω–æ–∑ PM2.5 | ‚Äî |

**–°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á:** `(city_id, timestamp)`

---

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `dm_dashboard_analytics`

–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω—è—é—â–µ–µ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã:

```sql
SELECT 
    c.name AS city_name,
    w.timestamp,
    w.temperature,
    w.humidity,
    w.wind_speed,
    a.pm10,
    a.pm25,
    a.predicted_pm25
FROM dim_city c
JOIN fact_weather w ON c.city_id = w.city_id
JOIN fact_air_quality a ON c.city_id = a.city_id 
    AND w.timestamp = a.timestamp;
```

---

## –ì–æ—Ä–æ–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

| –ì–æ—Ä–æ–¥ | –°—Ç—Ä–∞–Ω–∞ | –®–∏—Ä–æ—Ç–∞ | –î–æ–ª–≥–æ—Ç–∞ |
|-------|--------|--------|---------|
| –ú–æ—Å–∫–≤–∞ | RU | 55.7558 | 37.6173 |
| –£–ª—å—è–Ω–æ–≤—Å–∫ | RU | 54.3141 | 48.4031 |
| –õ–æ–Ω–¥–æ–Ω | GB | 51.5074 | -0.1278 |
| –ë–µ—Ä–ª–∏–Ω | DE | 52.5200 | 13.4050 |

---

## –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ï–¥–∏–Ω–∏—Ü–∞ | –°—Ç–∞–Ω–¥–∞—Ä—Ç |
|----------|---------|----------|
| –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ | ¬∞C | –¶–µ–ª—å—Å–∏–π |
| –í–ª–∞–∂–Ω–æ—Å—Ç—å | % | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è |
| –°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ | –∫–º/—á | ‚Äî |
| PM2.5 / PM10 | –º–∫–≥/–º¬≥ | WHO AQG |

---

## –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ (WHO Guidelines)

| –ó–∞–≥—Ä—è–∑–Ω–∏—Ç–µ–ª—å | –°—Ä–µ–¥–Ω–µ—Å—É—Ç–æ—á–Ω–∞—è –Ω–æ—Ä–º–∞ | –°—Ä–µ–¥–Ω–µ–≥–æ–¥–æ–≤–∞—è –Ω–æ—Ä–º–∞ |
|--------------|----------------------|---------------------|
| PM2.5 | 15 –º–∫–≥/–º¬≥ | 5 –º–∫–≥/–º¬≥ |
| PM10 | 45 –º–∫–≥/–º¬≥ | 15 –º–∫–≥/–º¬≥ |

*–ò—Å—Ç–æ—á–Ω–∏–∫: WHO Global Air Quality Guidelines (2021)*

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

1. **–í—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Ö–≤–∞—Ç:** –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π + 1 –¥–µ–Ω—å –ø—Ä–æ–≥–Ω–æ–∑–∞
2. **–ì—Ä–∞–Ω—É–ª—è—Ä–Ω–æ—Å—Ç—å:** –ø–æ—á–∞—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
3. **–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞:** –º–æ–¥–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ CAMS, –Ω–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å—Ç–∞–Ω—Ü–∏–π
4. **ML-–ø—Ä–æ–≥–Ω–æ–∑:** Linear Regression, R¬≤ –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è –ø–æ –≥–æ—Ä–æ–¥–∞–º
