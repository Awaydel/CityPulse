# Планирование Спринтов - EcoSense Analytics

## Обзор

Этот документ описывает структуру спринтов, бэклог задач и процесс планирования для проекта EcoSense Analytics.

**Методология:** Agile Scrum  
**Длительность спринта:** 1 неделя  
**Команда:** 6 человек

---

## Спринт 1: Инфраструктура и Архитектура
**Период:** 20.11.2025 - 27.11.2025  
**Цель спринта:** Создать базовую инфраструктуру проекта, настроить БД и реализовать первичный ETL процесс.

### Задачи (Story Points)

#### Backend & Infrastructure
- [x] **PM-1.1** Инициализация Git репозитория и структуры проекта *(1 SP)* - Lead Dev
- [x] **PM-1.2** Проектирование схемы БД (Star Schema) *(3 SP)* - ETL Dev
- [x] **PM-1.3** Создание SQL скриптов для инициализации БД *(2 SP)* - ETL Dev
- [x] **PM-1.4** Настройка PostgreSQL и тестовая загрузка данных *(2 SP)* - ETL Dev

#### ETL Pipeline
- [x] **PM-1.5** Разработка клиента для Open-Meteo API (погода) *(3 SP)* - Lead Dev
- [x] **PM-1.6** Разработка клиента для Air Quality API *(3 SP)* - Lead Dev
- [x] **PM-1.7** Реализация функций transform и load *(5 SP)* - ETL Dev
- [x] **PM-1.8** Интеграция ML модели (Linear Regression для PM2.5) *(5 SP)* - ETL Dev

#### Документация
- [x] **PM-1.9** Создание ADR-001: Выбор городов и метрик *(1 SP)* - PM
- [x] **PM-1.10** Написание README с инструкциями по запуску *(2 SP)* - PM

**Итого:** 27 Story Points  
**Статус:** ✅ Завершён  
**Velocity:** 27 SP

---

## Спринт 2: Качество Данных и Тестирование
**Период:** 28.11.2025 - 05.12.2025  
**Цель спринта:** Внедрить систему контроля качества данных, разработать комплексные тесты и настроить CI/CD.

### Задачи (Story Points)

#### Data Quality
- [x] **PM-2.1** Разработка модуля `data_quality.py` с базовыми проверками *(5 SP)* - QA
- [x] **PM-2.2** Реализация DQ правил (Schema, Ranges, Null, Uniqueness, Freshness) *(5 SP)* - QA
- [x] **PM-2.3** Интеграция DQ проверок в ETL pipeline *(3 SP)* - ETL Dev + QA
- [x] **PM-2.4** Генерация отчётов DQ (CSV) *(2 SP)* - QA
- [x] **PM-2.5** Реализация "Красного флага" (violation rate > 0.5%) *(2 SP)* - QA

#### Testing Strategy
- [x] **PM-2.6** Написание unit-тестов для ETL (`test_etl.py`) *(5 SP)* - QA
- [x] **PM-2.7** Написание unit-тестов для API (`test_api.py`) *(3 SP)* - QA
- [x] **PM-2.8** Разработка интеграционных тестов с БД (`test_integration.py`) *(5 SP)* - QA
- [x] **PM-2.9** Создание E2E теста (полный пайплайн) *(5 SP)* - QA
- [x] **PM-2.10** Написание тестов для Data Quality модуля *(3 SP)* - QA

#### CI/CD & Quality Gates
- [x] **PM-2.11** Настройка GitHub Actions для автоматического запуска тестов *(3 SP)* - Lead Dev
- [x] **PM-2.12** Добавление проверки coverage (fail if < 70%) *(2 SP)* - Lead Dev
- [x] **PM-2.13** Quality Gate для ML модели (R² < 0.3 → warning) *(2 SP)* - ETL Dev

#### Документация
- [x] **PM-2.14** Создание `TESTING_PLAN.md` *(2 SP)* - QA
- [x] **PM-2.15** Написание `QA_REPORT.md` с найденными проблемами *(2 SP)* - QA

**Итого:** 49 Story Points  
**Статус:** ✅ Завершён  
**Velocity:** 49 SP  
**Достижения:**
- Покрытие тестами: **92%** (превышает цель 70%)
- Все DQ проверки работают автоматически
- CI/CD pipeline настроен и функционирует

---

## Спринт 3: API и Frontend Дашборд
**Период:** 06.12.2025 - 13.12.2025  
**Цель спринта:** Разработать REST API с валидацией и создать интерактивный веб-дашборд для визуализации данных.

### Задачи (Story Points)

#### Backend API
- [x] **PM-3.1** Создание FastAPI сервера с базовой структурой *(2 SP)* - Lead Dev
- [x] **PM-3.2** Реализация эндпоинта `/api/cities` *(2 SP)* - Lead Dev
- [x] **PM-3.3** Реализация эндпоинта `/api/measurements` *(3 SP)* - Lead Dev
- [x] **PM-3.4** Внедрение Pydantic моделей для валидации *(3 SP)* - Lead Dev
- [x] **PM-3.5** Настройка CORS для frontend *(1 SP)* - Lead Dev
- [x] **PM-3.6** Swagger документация API *(1 SP)* - Lead Dev

#### Frontend Dashboard
- [x] **PM-3.7** Инициализация React проекта (Vite + TypeScript) *(2 SP)* - Frontend Dev
- [x] **PM-3.8** Разработка компонента главного дашборда (`App.tsx`) *(8 SP)* - Frontend Dev
- [x] **PM-3.9** Реализация графика трендов (PM2.5 + ML прогноз) *(5 SP)* - Frontend Dev
- [x] **PM-3.10** Создание scatter chart для корреляций *(5 SP)* - Frontend Dev
- [x] **PM-3.11** Разработка тепловой карты рисков (Heatmap) *(5 SP)* - Frontend Dev
- [x] **PM-3.12** Интеграция переключателя ML прогноза *(2 SP)* - Frontend Dev
- [x] **PM-3.13** Добавление фильтрации по городам *(3 SP)* - Frontend Dev
- [x] **PM-3.14** Создание страницы с сырыми данными (таблица) *(3 SP)* - Frontend Dev
- [x] **PM-3.15** Разработка страницы с логами ETL *(3 SP)* - Frontend Dev

#### UI/UX & Observability
- [x] **PM-3.16** Дизайн UI (цвета, иконки, responsive layout) *(5 SP)* - Frontend Dev
- [x] **PM-3.17** Добавление виджета "Качество данных" (Data Completeness) *(3 SP)* - Frontend Dev
- [x] **PM-3.18** Индикаторы свежести данных и статуса API *(2 SP)* - Frontend Dev

#### Документация
- [x] **PM-3.19** Создание `DASHBOARD_SPECS.md` *(2 SP)* - PM

**Итого:** 61 Story Points  
**Статус:** ✅ Завершён  
**Velocity:** 61 SP  
**Достижения:**
- Дашборд полностью интерактивен с 3 типами визуализаций
- API задокументирован через Swagger
- Responsive design реализован

---

## Спринт 4: Автоматизация и Документация
**Период:** 14.12.2025 - 20.12.2025  
**Цель спринта:** Настроить Airflow для автоматизации ETL, завершить документацию по управлению проектом.

### Задачи (Story Points)

#### Airflow Integration
- [x] **PM-4.1** Создание Airflow DAG для ETL процесса *(5 SP)* - Lead Dev
- [x] **PM-4.2** Настройка расписания (ежечасный запуск) *(2 SP)* - Lead Dev
- [x] **PM-4.5** Тестирование Airflow DAG в локальной среде *(3 SP)* - Lead Dev

#### Project Management Documentation
- [x] **PM-4.6** Создание полноценного `PROJECT_MANAGEMENT.md` *(3 SP)* - PM
- [x] **PM-4.7** Написание `SPRINT_PLANNING.md` с историей спринтов *(3 SP)* - PM
- [x] **PM-4.8** Документирование процесса управления рисками *(2 SP)* - PM

#### Finalization
- [x] **PM-4.10** Обновление README с полной инструкцией развёртывания *(2 SP)* - PM
- [x] **PM-4.12** Финальное тестирование всей системы end-to-end *(3 SP)* - QA

**Итого:** 23 Story Points  
**Статус:** ✅ Завершён  
**Velocity:** 23 SP

---

## Бэклог (Backlog)

### Приоритет 1: Must Have для MVP
*Все задачи из спринтов 1-4 выполнены*

### Приоритет 2: Should Have (Будущие улучшения)

| ID | Задача | Story Points | Ответственный |
|----|--------|--------------|---------------|
| **BL-1** | Добавить поддержку большего количества городов (10+) | 3 | Lead Dev |
| **BL-2** | Реализовать уведомления по email при DQ violation | 5 | Lead Dev |
| **BL-3** | Добавить график прогноза на 24 часа вперёд | 5 | Frontend Dev |
| **BL-4** | Интеграция с Telegram Bot для оповещений | 8 | Backend Dev |
| **BL-5** | Экспорт данных в CSV/Excel из дашборда | 3 | Frontend Dev |
| **BL-6** | Настройка Docker контейнеризации | 5 | Lead Dev |
| **BL-7** | Добавить авторизацию (JWT) для API | 5 | Lead Dev |

### Приоритет 3: Nice to Have

| ID | Задача | Story Points |
|----|--------|--------------|
| **BL-9** | Интеграция с Google Maps для визуализации | 8 |
| **BL-10** | ML модель с LSTM для временных рядов | 13 |
| **BL-11** | A/B тестирование различных ML моделей | 8 |
| **BL-12** | Реализация кэширования (Redis) | 5 |

---

## Метрики Спринтов

### Velocity Chart

```
Sprint 1: ████████████████████████████ 27 SP
Sprint 2: ████████████████████████████████████████████████████ 49 SP
Sprint 3: ████████████████████████████████████████████████████████████████ 61 SP
Sprint 4: ██████████████ 23 SP
```

**Средняя Velocity:** 40 SP/sprint

### Capacity Planning

**Формула расчёта:**
```
Capacity = (Рабочие дни в спринте) × (Часы в день) × (Focus Factor)

Пример для участника:
5 рабочих дней × 6 часов × 0.8 = 24 часа = ~6 Story Points
```

---

**Дата последнего обновления:** 17.12.2025  
**Версия документа:** 1.1  
**Ответственный:** Сидорова Александра (Project Manager)
